@model TaskBase.Components.Views.Shared.Components.Avatar.AvatarModel

<div id="avatar-img" onclick="triggerInput()" class="nav-item border overflow-hidden" style="width: 50px; height: 50px; border-radius: 100%;">
    
    <img style="width:100%; height:100%;" src="@(string.IsNullOrWhiteSpace(Model.Value) ? "/Avatars/avatar.jpg" : Model.Value)" alt="Avatar" />

    <form method="post" action="/Storage/UploadImage" data-ajax="true" asp-antiforgery="true"
            data-ajax-method="post" data-ajax-mode="replace-with" data-ajax-update="#avatar-img"
            enctype="multipart/form-data">

        <input id="upload-avatar" onchange="submiteForm()" style="display:none" type="file" name="file" value="" />
        <button id="submit-form" type="submit"></button>
    </form>

</div>

<script defer >
    function triggerInput() {
        var inputElement = document.getElementById("upload-avatar");
        inputElement.click();
        return false;
    }

    function submiteForm() {
        var btn = document.getElementById("submit-form");
        btn.click();
    }
</script>